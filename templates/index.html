{% extends "base.html" %}

{% block title %}Home - Student Event Management{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="text-center mb-5">
            <h1 class="display-4 text-primary">
                <i class="fas fa-qrcode me-3"></i>
                Cognizant Pre-Placement Talk
            </h1>
            <p class="lead text-muted">Batch 2026 - 18th September 2025</p>
            <p class="text-muted">QR code-based attendance management system</p>
        </div>
    </div>
</div>

<div class="row g-4">
    <!-- Admin Panel Card -->
    <div class="col-md-6 col-lg-3">
        <div class="card h-100 shadow-sm border-0">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-shield-alt fa-3x text-primary"></i>
                </div>
                <h5 class="card-title">Admin Access</h5>
                <p class="card-text">Secure admin panel for event management</p>
                {% if session.admin_authenticated %}
                <a href="{{ url_for('admin') }}" class="btn btn-primary">
                    <i class="fas fa-cog me-1"></i>Admin Panel
                </a>
                {% else %}
                <a href="{{ url_for('admin_login') }}" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt me-1"></i>Admin Login
                </a>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- QR Scanner Card -->
    <div class="col-md-6 col-lg-3">
        <div class="card h-100 shadow-sm border-0">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-camera fa-3x text-success"></i>
                </div>
                <h5 class="card-title">QR Scanner</h5>
                <p class="card-text">Scan student QR codes for event attendance</p>
                <a href="{{ url_for('scanner') }}" class="btn btn-success">
                    <i class="fas fa-camera me-1"></i>Open Scanner
                </a>
            </div>
        </div>
    </div>

    <!-- Dashboard Card -->
    <div class="col-md-6 col-lg-3">
        <div class="card h-100 shadow-sm border-0">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-chart-bar fa-3x text-info"></i>
                </div>
                <h5 class="card-title">Live Dashboard</h5>
                <p class="card-text">Real-time statistics and attendance tracking</p>
                {% if session.admin_authenticated %}
                <a href="{{ url_for('dashboard') }}" class="btn btn-info">
                    <i class="fas fa-chart-bar me-1"></i>View Dashboard
                </a>
                {% else %}
                <button class="btn btn-secondary" disabled>
                    <i class="fas fa-lock me-1"></i>Admin Only
                </button>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Help Card -->
    <div class="col-md-6 col-lg-3">
        <div class="card h-100 shadow-sm border-0">
            <div class="card-body text-center">
                <div class="mb-3">
                    <i class="fas fa-question-circle fa-3x text-warning"></i>
                </div>
                <h5 class="card-title">Help & Guide</h5>
                <p class="card-text">Learn how to use the system effectively</p>
                <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#helpModal">
                    <i class="fas fa-book me-1"></i>View Guide
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="row mt-5">
    <div class="col-12">
        <h2 class="text-center mb-4">System Features</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="text-center">
                    <i class="fas fa-upload fa-2x text-primary mb-3"></i>
                    <h5>Easy Data Upload</h5>
                    <p class="text-muted">Upload student data via Excel or CSV files with automatic validation</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="text-center">
                    <i class="fas fa-shield-alt fa-2x text-success mb-3"></i>
                    <h5>Secure QR Codes</h5>
                    <p class="text-muted">Cryptographically secure QR codes that prevent duplication and fraud</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="text-center">
                    <i class="fas fa-envelope fa-2x text-info mb-3"></i>
                    <h5>Automated Emails</h5>
                    <p class="text-muted">Automatic email distribution with personalized QR codes and instructions</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Help Modal -->
<div class="modal fade" id="helpModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">System Guide</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="accordion" id="helpAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                1. Upload Student Data
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#helpAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>Go to Admin Panel</li>
                                    <li>Upload Excel/CSV file with columns: Student Name, PRN Number, Email Address</li>
                                    <li>System will validate and import the data</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                                2. Generate QR Codes
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>Click "Generate QR Codes" in Admin Panel</li>
                                    <li>System creates unique, secure QR codes for each student</li>
                                    <li>QR codes are stored securely in the database</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                                3. Send Emails
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>Configure email settings in .env file</li>
                                    <li>Click "Send Emails" to distribute QR codes</li>
                                    <li>Each student receives their unique QR code with instructions</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
                                4. Scan QR Codes
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>Use the QR Scanner page on mobile device</li>
                                    <li>Allow camera access when prompted</li>
                                    <li>Scan student QR codes - each can only be used once</li>
                                    <li>View real-time results on Dashboard</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">
                                5. Event Requirements & Guidelines
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                            <div class="accordion-body">
                                <div class="alert alert-warning">
                                    <strong>Mandatory Requirements for Entry:</strong>
                                </div>
                                <h6 class="text-primary">👔 Dress Code (COMPULSORY):</h6>
                                <ul>
                                    <li><strong>Formals with blazers are MANDATORY</strong></li>
                                    <li>Professional business attire required</li>
                                    <li>No casual wear will be permitted</li>
                                    <li>Entry may be denied without proper dress code</li>
                                </ul>

                                <h6 class="text-primary">🆔 Entry Requirements:</h6>
                                <ul>
                                    <li><strong>College ID card is MANDATORY</strong></li>
                                    <li>QR code must be presented along with ID card</li>
                                    <li>Both documents will be verified at entrance</li>
                                </ul>

                                <h6 class="text-primary">⏰ Important Guidelines:</h6>
                                <ul>
                                    <li>Arrive 15 minutes before event starts</li>
                                    <li>Keep QR code and ID card ready</li>
                                    <li>Late arrivals may not be permitted</li>
                                    <li>This is a professional corporate event</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
